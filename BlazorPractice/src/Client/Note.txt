★Clientプロジェクトについて

■画面から各部品はどう呼ばれるの？
ClientプロジェクトのProfile.razorからProfile.razor.csのメソッドを呼ぶときの流れ
・Profile.razor.cs
Client.InfrastructureのIManagerを継承したIAccountManagerを実装したAccountManagerがDIされているので呼ぶ
・BlazorPractice.Client.Infrastructure.Managers.Identity.AccountのAccountManager
AccountManagerからアドレス指定してコントローラのAPIを叩く
ServerプロジェクトのAccountControllerからBlazorPractice.Infrastructure.Services.IdentityのAccountServiceをDIしてファイル保存とDB更新
※DB更新はMicrosoft.AspNetCore.IdentityのUserManagerをDIして行う

要するに、クライアントからはClient.Infrastructureの何かを呼ぶが、それはMainでホストを作る時にまとめて登録されていてDIできる
クライアントからはAPIでサーバにデータを送信するので、APIのアドレスを取得して叩く。
サーバ側はInfrastructureのServicesや、標準にあるIdentityのサービスを使ってDB更新する。

■Pages
razorをここに作成する。コードビハインドも使っているので注意。
_Imports.razorで@injectしたものは、各razorのコードビハインドからも参照できる。Client.InfrastructureのIManager関係もここでDIする。


